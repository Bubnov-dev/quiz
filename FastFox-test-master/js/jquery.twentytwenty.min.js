!function(t){t.fn.twentytwenty=function(e){e=t.extend({default_offset_pct:.5,orientation:"horizontal",before_label:"Before",after_label:"After",no_overlay:!1,move_slider_on_hover:!1,move_with_handle_only:!0,click_to_move:!1},e);return this.each((function(){var n=e.default_offset_pct,a=t(this),i=e.orientation,o="vertical"===i?"down":"left",s="vertical"===i?"up":"right";if(a.wrap("<div class='twentytwenty-wrapper twentytwenty-"+i+"'></div>"),!e.no_overlay){a.append("<div class='twentytwenty-overlay'></div>");var l=a.find(".twentytwenty-overlay");l.append("<div class='twentytwenty-before-label' data-content='"+e.before_label+"'></div>"),l.append("<div class='twentytwenty-after-label' data-content='"+e.after_label+"'></div>")}var r=a.find("img:first"),c=a.find("img:last");a.append("<div class='twentytwenty-handle'></div>");var d=a.find(".twentytwenty-handle");d.append("<span class='twentytwenty-"+o+"-arrow'></span>"),d.append("<span class='twentytwenty-"+s+"-arrow'></span>"),a.addClass("twentytwenty-container"),r.addClass("twentytwenty-before"),c.addClass("twentytwenty-after");var w=function(e){var n,o,s,l=(n=e,o=r.width(),s=r.height(),{w:o+"px",h:s+"px",cw:n*o+"px",ch:n*s+"px"});let w=t(".twentytwenty-handle").css("left").replace(/[a-z]/gi,"")/t("#filter-image-wrapper").width();t(".most-day-real-val").html(w);let f="";f=w<.15?"Весь день на улице":w<.35?"В основном на улице":w<.65?"Часть времени в помещении, часть – на улице":w<.85?"В основном в помещении":"Весь день в помещении",t(".most-day-front-value").html(f),d.css("vertical"===i?"top":"left","vertical"===i?l.ch:l.cw),function(t){"vertical"===i?(r.css("clip","rect(0,"+t.w+","+t.ch+",0)"),c.css("clip","rect("+t.ch+","+t.w+","+t.h+",0)")):(r.css("clip","rect(0,"+t.cw+","+t.h+",0)"),c.css("clip","rect(0,"+t.w+","+t.h+","+t.cw+")")),a.css("height",t.h)}(l)},f=function(t,e){var n,a,o;return n="vertical"===i?(e-p)/h:(t-v)/y,a=0,o=1,Math.max(a,Math.min(o,n))};t(window).on("resize.twentytwenty",(function(t){w(n)}));var v=0,p=0,y=0,h=0,u=function(t){((t.distX>t.distY&&t.distX<-t.distY||t.distX<t.distY&&t.distX>-t.distY)&&"vertical"!==i||(t.distX<t.distY&&t.distX<-t.distY||t.distX>t.distY&&t.distX>-t.distY)&&"vertical"===i)&&t.preventDefault(),a.addClass("active"),v=a.offset().left,p=a.offset().top,y=r.width(),h=r.height()},m=function(t){a.hasClass("active")&&(n=f(t.pageX,t.pageY),w(n))},_=function(){a.removeClass("active")},g=e.move_with_handle_only?d:a;g.on("movestart",u),g.on("move",m),g.on("moveend",_),e.move_slider_on_hover&&(a.on("mouseenter",u),a.on("mousemove",m),a.on("mouseleave",_)),d.on("touchmove",(function(t){t.preventDefault()})),a.find("img").on("mousedown",(function(t){t.preventDefault()})),e.click_to_move&&a.on("click",(function(t){v=a.offset().left,p=a.offset().top,y=r.width(),h=r.height(),n=f(t.pageX,t.pageY),w(n)})),t(window).trigger("resize.twentytwenty")}))}}(jQuery);